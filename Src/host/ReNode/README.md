# Инструкция по созданию модулей

Здесь содержится краткое описание по созданию модуля библиотеки узлов.

## Создание собственных библиотек узлов

1. Создаем файл с нижним подчеркиванием в начале. Желательно, чтобы имя модуля совпадало с этим именем. Прим.: `_math.logical.sqf`. Созданный файл подключаем в `ReNode_init.sqf` внутри функции `nodegen_registerFunctions`
2. В созданном файле регистрируем имя модуля `nodeModule_register("math.logical")`
3. Для регистрации простых узлов используем `ARRAY reg_binary`, `ARRAY reg_unary` и `ARRAY reg_nular`. Сигнатуры можно посмотреть в `ReNode_bindingHelpers.sqf`.

# Работа с директориями модуля
Наши модули можно пробросить в нужную директорию (путь), доступную из дерева узлов. Для этого укажите путь:
```cpp
nodeModule_setPath("Мой модуль.Мои узлы")
```
Указанный путь модуля автоматически добавляется в каждый узел, зарегистрированный в этом модуле.

> Обязательно укажите путь после регистрации вашего модуля. Иначе путь будет undefined.MODULENAME `undefined.math.logical`

## Расширение пути
Чтобы не переписывать путь каждый раз (например, когда мы хотим добавить подраздел нашей директории) используйте следующее:
```cpp
nodeModule_addPath("Дополнительные узлы")
```
После этого если например путь был `Мой модуль.Мои узлы`, то станет `Мой модуль.Мои узлы.Дополнительные узлы`
## Поднятие вверх по директории
Если надо откатиться назад (подняться выше по директории) используйте:
```cpp
nodeModule_popPath(1);
```
Эта операция поднимает путь на директорию выше. Например, если путь был `Мой модуль.Мои узлы.Дополнительные узлы` то с уровнем `1` результат станет `Мой модуль.Мои узлы`
> Если указано некорректное число - операция поднятия не будет выполнена

# Дополнительные
Есть ещё несколько доп. функций общего назначения
- `nodeModule_setIcon` - для установки общей иконки для узлов. При повторном вызове переопределит иконку для определенных ниже узлов.
- `nodeModule_setColorStyle` - устанавливает стиль узлов. Стиль отвечает за цвет шапки узла. Например, Operator
- `nodeModule_setRenderType` - устанавливает тип рендеринга узла. Например, Default, NoHeader, NoHeaderText, NoHeaderIcon и т.д.

# Пример 
Небольшой пример ниже

```cpp
nodeModule_register("global.tests")
nodeModule_setColorStyle("PureFunction")
nodeModule_setRenderType("Default")
nodeModule_setIcon("data\\icons\\icon_bp_function_x16")

[
    "doAction",
    "Выполнение действия","[@in.1] call internalSDKFunction",
    "float:Входное число" opt "custom=0",
    "bool:Результат:Результат выполнения операции - @[bool ИСТИНА], если успешно."
] reg_unary

[
    "nularExpr", "Номер кадра:Получение номера кадра","diag_frameNo",
    "int:Кадр:Номер кадра рендеринга",
    "Возвращает количество кадров, отрисованных с момента запуска приложения."
] reg_nular
```